<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <style>
        html, body, #map {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <title>Web GIS</title>
</head>
<body>
    <div id="map"></div>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="data/MayoritasTutupanLahan_1.js"></script>
    <script src="data/IndeksKesesuaianLahanPertanian_2.js"></script>
    <script src="data/BatasProvinsi_3.js"></script>
    <script src="data/BatasKabupaten_4.js"></script>
    <script>
    var map = L.map('map', {
        zoomControl: false,
        maxZoom: 28,
        minZoom: 1
    }).fitBounds([[-8.2921, 109.9826], [-7.4546, 110.8597]]);

    new L.Hash(map);
    L.control.zoom({ position: 'topleft' }).addTo(map);

    var layer_GoogleSatellite_0 = L.tileLayer('https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
        maxZoom: 28,
        minZoom: 1,
        attribution: ''
    }).addTo(map);

    function highlightFeature(e) {
        var layer = e.target;
        layer.setStyle({
            weight: 3,
            color: '#ffff00',
            dashArray: '',
            fillOpacity: 0.7
        });
        if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
            layer.bringToFront();
        }
    }

    function resetHighlight(e) {
        layer_MayoritasTutupanLahan_1.resetStyle(e.target);
        layer_IndeksKesesuaianLahanPertanian_2.resetStyle(e.target);
    }

    // Layer Mayoritas Tutupan Lahan
    var layer_MayoritasTutupanLahan_1 = new L.geoJson(json_MayoritasTutupanLahan_1, {
        style: style_MayoritasTutupanLahan_1_0,
        onEachFeature: function(feature, layer) {
            pop_MayoritasTutupanLahan_1(feature, layer);
            layer.on({ mouseover: highlightFeature, mouseout: resetHighlight });
        }
    }).addTo(map);

    // Layer Indeks Kesesuaian Lahan
    var layer_IndeksKesesuaianLahanPertanian_2 = new L.geoJson(json_IndeksKesesuaianLahanPertanian_2, {
        style: style_IndeksKesesuaianLahanPertanian_2_0,
        onEachFeature: function(feature, layer) {
            pop_IndeksKesesuaianLahanPertanian_2(feature, layer);
            layer.on({ mouseover: highlightFeature, mouseout: resetHighlight });
        }
    }).addTo(map);

    // Layer Batas Kabupaten
    var layer_BatasKabupaten_4 = new L.geoJson(json_BatasKabupaten_4, {
        style: style_BatasKabupaten_4_0,
        onEachFeature: pop_BatasKabupaten_4
    }).addTo(map);

    // Layer Control (top right)
    var baseMaps = {
        "Google Satelit": layer_GoogleSatellite_0
    };

    var overlayMaps = {
        "Indeks Kesesuaian Lahan Pertanian": layer_IndeksKesesuaianLahanPertanian_2,
        "Mayoritas Tutupan Lahan": layer_MayoritasTutupanLahan_1,
        "Batas Kabupaten": layer_BatasKabupaten_4
    };

    L.control.layers(baseMaps, overlayMaps, {
        collapsed: false,
        position: 'topright'
    }).addTo(map);
    </script>
</body>
</html>
